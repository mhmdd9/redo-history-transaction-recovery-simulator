<div dir="rtl" style="text-align: right;">

# ๐ Redo-History Transaction Recovery Simulator (Java)

ุงู ุจุฑูุงูู ฺฉ ุดุจูโุณุงุฒ ุณุงุฏู ุจุฑุง ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชู **Crash Recovery** ุจู ุณุจฺฉ **Redo-History Paradigm** ุฏุฑ ุณุณุชูโูุง ุชุฑุงฺฉูุด ุงุณุช.  
ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุจุง ูุงุฑุฏ ฺฉุฑุฏู ุฏุณุชูุฑุงุช ูุงููุฏ `BEGIN`, `WRITE`, `COMMIT`, `FLUSH`, `CRASH`ุ ุณูุงุฑููุง ูุดุงุจู ูุซุงูโูุง ฺฉูุงุณฺฉ ูุซู ARIES ุฑุง ุงุฌุงุฏ ู ุจุงุฒุงุจ ฺฉูุฏ.

---

## ๐ ูฺฺฏโูุง

- ูพุดุชุจุงู ุงุฒ ฺูุฏ ุชุฑุงฺฉูุด ููุฒูุงู
- ุดุจูโุณุงุฒ ฺฉุด (Cache) ู ุฏุชุงุจุณ ูพุงุฏุงุฑ (Stable Database)
- ุงุฌุฑุง ุงูฺฏูุฑุชูโูุง `Redo Pass` ู `Undo Pass` ุจุนุฏ ุงุฒ ฺฉุฑุด
- ุฎูุงูุฏู ุฏุณุชูุฑุงุช ุงุฒ ูุฑูุฏ (stdin) ุฏุฑ ูุงูุจ ุชุนุงูู
- ููุงุด ูุถุนุช ูพุงฺฏุงู ุฏุงุฏู ุจุนุฏ ุงุฒ ูุฑ Crash Recovery

---

## โถ๏ธ ูุญูู ุงุฌุฑุง

1. ฺฉุฏ ุฑุง ุฏุฑ ฺฉ ูุงู ุฌุงูุง ุฐุฎุฑู ฺฉูุฏุ ูุซูุงู `RedoHistoryRecoveryInteractive.java`.
2. ุขู ุฑุง ฺฉุงููพุงู ู ุงุฌุฑุง ฺฉูุฏ:

```bash
javac RedoHistoryRecoveryInteractive.java
java RedoHistoryRecoveryInteractive
```

3. ุฏุณุชูุฑุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ.

## ๐งพ ูุฑูุช ุฏุณุชูุฑุงุช ูพุดุชุจุงูโุดุฏู

| ุฏุณุชูุฑ     | ูุฑูุช                              | ุชูุถุญ                                 |
|-----------|-----------------------------------|----------------------------------------|
| `BEGIN`   | `BEGIN <TXN_ID>`                  | ุดุฑูุน ฺฉ ุชุฑุงฺฉูุด ุฌุฏุฏ                   |
| `WRITE`   | `WRITE <TXN_ID> <PAGE> <DATA>`    | ููุดุชู ุฏุงุฏู ุฑู ฺฉ ุตูุญู ุชูุณุท ฺฉ ุชุฑุงฺฉูุด |
| `COMMIT`  | `COMMIT <TXN_ID>`                 | ุงุชูุงู ูููู ุชุฑุงฺฉูุด                    |
| `FLUSH`   | `FLUSH <PAGE>`                    | ููุดุชู ุฏุงุฏูู ฺฉุดโุดุฏู ุจู ุฏุณฺฉ           |
| `CRASH`   | `CRASH`                           | ุดุจูโุณุงุฒ ุฎุฑุงุจ ู ุงุฌุฑุง Recovery     |
| `EXIT`    | `EXIT`                            | ูพุงุงู ุจุฑูุงูู                          |

## ๐งช ููููู ุงุณุชูุงุฏู

```
> BEGIN T1
> WRITE T1 A val1
> WRITE T1 B val2
> COMMIT T1
> FLUSH A
> BEGIN T2
> WRITE T2 C val3
> CRASH
> EXIT
```

## ๐ข ุฎุฑูุฌ ููุง:
```
๐จ SYSTEM CRASH

๐ Redo Pass:
๐ Redoing: [2] WRITE T1 A val1
๐ Redoing: [3] WRITE T1 B val2
๐ Redoing: [6] WRITE T2 C val3

โฉ๏ธ Undo Pass:
โ Undoing transaction T2
๐งน Undo: removing C

โ Recovery complete. Current database: {A=val1, B=val2}

```

## ๐ ูฺฉุงุช ูุงุจู ฺฏุณุชุฑุด
* ุงุถุงููโฺฉุฑุฏู Compensation Log Entry (CLE)

* ูพุดุชุจุงู ุงุฒ ุฐุฎุฑู ู ุจุงุฑฺฏุฐุงุฑ ูุงูโูุง ูุงฺฏ

* ููุงุด ฺฏุฑุงูฺฉ ุฑููุฏ Redo/Undo

* ุงุนูุงู NextUndoSeqNo ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงุฌุฑุง ุชฺฉุฑุงุฑ ุนููุงุช ูุนฺฉูุณ
